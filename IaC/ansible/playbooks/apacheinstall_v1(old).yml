
---
# ansible playbook without block's (early playbook)
  - name: Install default Apache web server
    hosts: all
    become: yes

    tasks:
     - name: Check and Print Linux version
       debug:
         var: ansible_os_family

     - name: Update apt
       apt : update_cache=yes
       when: ansible_os_family == "Debian"

     - name: Update yum
       yum : update_cache=yes
       when: ansible_os_family == "RedHat"

     - name: Install Apache for Debian
       apt : name=apache2 state=latest
       when: ansible_os_family == "Debian"

     - name: Install Apache for RedHat
       yum : name=httpd state=latest
       when: ansible_os_family == "RedHat"

     - name   : Start Apache and Enable it on the every boot Debian
       service: name=apache2 state=started enabled=yes
       when   : ansible_os_family == "Debian"

     - name   : Start Apache and Enable it on the every boot for Redhat
       service: name=httpd state=started enabled=yes
       when   : ansible_os_family == "RedHat"
...
